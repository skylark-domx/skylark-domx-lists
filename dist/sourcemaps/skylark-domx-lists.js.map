{"version":3,"sources":["skylark-domx-lists.js"],"names":["define","skylark","attach","langx","$","lists","multitier","elm","options","itemSelector","mixin","classes","active","collapse","in","selectors","item","sublist","hasSublist","toggler","mode","levels","multiExpand","show","$el","hide","toggle","$items","activeClass","activeSelector","sublistSelector","togglerSelector","collapseClass","inClass","inSelector","has","find","on","e","$children","preventDefault","$clildren","this","closest","siblings","removeClass","children","toggleClass","filter","addClass","not","main"],"mappings":";;;;;;;g4BAAAA,EAAA,4BACA,mBACA,qBACA,oBACA,oBACA,sBACA,qBACA,uBACA,SAAAC,GACA,OAAAA,EAAAC,OAAA,gBAEAF,EAAA,gCACA,gBACA,qBACA,WACA,SAAAG,EAAAC,EAAAC,GAFA,OAAAA,EAAAC,UAGA,SAAAC,EAAAC,GAkCA,IAAAC,GAjCAD,EAAAL,EAAAO,OACAC,SACAC,OAAA,SACAC,SAAA,WACAC,GAAA,MAGAC,WACAC,KAAA,KACAC,QAAA,KACAC,WAAA,WACAC,QAAA,QAGAC,KAAA,GAEAC,OAAA,EAEAC,aAAA,EAEAC,KAAA,SAAAC,GACAA,EAAAD,QAGAE,KAAA,SAAAD,GACAA,EAAAC,QAGAC,OAAA,SAAAF,GACAA,EAAAE,WAEAlB,GAAA,IAEAO,UAAAC,KACAW,EAAAvB,EAAAK,EAAAF,GAEAqB,EAAApB,EAAAG,QAAAC,OACAiB,EAAA,IAAAD,EAIAE,GAFAtB,EAAAY,KAEAZ,EAAAO,UAAAE,SACAK,YAAAd,EAAAc,YACAS,gBAAAvB,EAAAO,UAAAI,QAEAa,cAAAxB,EAAAG,QAAAE,SACAoB,QAAAzB,EAAAG,QAAAG,GACAoB,WAAA,IAAAD,QAEAR,KAAAjB,EAAAiB,KACAC,OAAAlB,EAAAkB,OAEAC,EAAAQ,IAAAL,GAAAM,KAAAL,iBAAAM,GAAA,kBAAA,SAAAC,GAGA,IAAAC,EAFAD,EAAAE,iBAIAlB,cAEAmB,UAAArC,EAAAsC,MAAAC,QAAAlC,GAAAmC,WAAAC,YAAAjB,GAAAkB,SAAAhB,EAAA,IAAAtB,EAAAG,QAAAG,IACAyB,GACAd,KAAAc,KA7EAA,EAAAnC,EAAAsC,MAAAC,QAAAlC,GAAAsC,YAAAnB,GAAAkB,SAAAtC,EAAAO,UAAAE,WAEAS,OAAAa,KAIAZ,EAAAqB,OAAAnB,GAAAM,IAAAL,GAAAgB,SAAAhB,GAAAmB,SAAAjB,eAAAiB,SAAAhB,SACAN,EAAAuB,IAAArB,GAAAM,IAAAL,GAAAgB,SAAAhB,GAAAmB,SAAAjB,kBAOAhC,EAAA,2BACA,UACA,eACA,SAAAK,GACA,OAAAA,IAEAL,EAAA,sBAAA,2BAAA,SAAAmD,GAAA,OAAAA","file":"../skylark-domx-lists.js","sourcesContent":["define('skylark-domx-lists/lists',[\r\n\t\"skylark-langx-ns\",\r\n\t\"skylark-domx-query\",\r\n\t\"skylark-domx-data\",\r\n\t\"skylark-domx-geom\",\r\n\t\"skylark-domx-finder\",\r\n\t\"skylark-domx-noder\",\r\n\t\"skylark-domx-styler\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"domx.lists\");\r\n});\ndefine('skylark-domx-lists/multitier',[\r\n\t\"skylark-langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"./lists\"\r\n],function(langx,$,lists){\r\n\tfunction multitier(elm,options) {\r\n\t\toptions = langx.mixin({\r\n\t\t\tclasses : {\r\n\t\t\t\tactive : \"active\",\r\n\t\t\t\tcollapse : \"collapse\",\r\n\t\t\t\tin : \"in\",\r\n\t\t\t},\r\n\r\n\t\t\tselectors : {\r\n\t\t\t\titem : \"li\",                   // \".list-group-item\"\r\n\t\t\t\tsublist : \"ul\",  // \"> .list-group\"\r\n\t\t\t\thasSublist : \":has(ul)\",\r\n\t\t\t\ttoggler : \" > a\"\r\n\t\t\t},\r\n\r\n\t\t\tmode   : \"\",  // \"tree\" or \"accordion\" or \"popover\"\r\n\r\n\t\t\tlevels : 2,\r\n\r\n\t\t\tmultiExpand : false,\r\n\r\n\t\t\tshow : function($el) {\r\n\t\t\t\t$el.show();\r\n\t\t\t},\r\n\r\n\t\t\thide : function($el) {\r\n\t\t\t\t$el.hide();\r\n\t\t\t},\r\n\r\n\t\t\ttoggle : function($el) {\r\n\t\t\t\t$el.toggle();\r\n\t\t\t}\r\n\t\t},options,true);\r\n\r\n    var itemSelector = options.selectors.item,\r\n        $items = $(itemSelector,elm),\r\n\r\n        activeClass = options.classes.active,\r\n        activeSelector = \".\" + activeClass,\r\n\r\n\t\tmultitierMode = options.mode,\r\n\r\n        sublistSelector = options.selectors.sublist;           \r\n        multiExpand = options.multiExpand,\r\n        togglerSelector = options.selectors.toggler,\r\n\r\n        collapseClass = options.classes.collapse,\r\n        inClass = options.classes.in,\r\n        inSelector = \".\" + inClass,\r\n\r\n        hide = options.hide,\r\n        toggle = options.toggle;\r\n\r\n     $items.has(sublistSelector).find(togglerSelector).on(\"click.multitier\", function(e) {\r\n          e.preventDefault();\r\n\r\n          let $children;\r\n\r\n          if (!multiExpand) {\r\n              ///langx.scall($(this).closest(itemSelector).siblings().removeClass(\"active\").children(sublistSelector+\".in\").plugin(\"domx.toggles.collapse\"),\"hide\");\r\n              $clildren = $(this).closest(itemSelector).siblings().removeClass(activeClass).children(sublistSelector+\".\"+options.classes.in);\r\n              if ($children) {\r\n\t              hide($children);\r\n              }\r\n          }\r\n          //$(this).closest(itemSelector).toggleClass(activeClass).children(sublistSelector).plugin(\"domx.toggles.collapse\").toggle();\r\n          $children = $(this).closest(itemSelector).toggleClass(activeClass).children(options.selectors.sublist);\r\n          if ($children) {\r\n\t          toggle($children);\r\n\t      }\r\n      });\r\n\r\n      $items.filter(activeSelector).has(sublistSelector).children(sublistSelector).addClass(collapseClass).addClass(inClass);\r\n      $items.not(activeSelector).has(sublistSelector).children(sublistSelector).addClass(collapseClass);\r\n\r\n\r\n\t}\r\n\r\n\treturn lists.multitier = multitier\r\n});\ndefine('skylark-domx-lists/main',[\r\n\t\"./lists\",\r\n\t\"./multitier\"\r\n],function(lists){\r\n\treturn lists;\r\n});\ndefine('skylark-domx-lists', ['skylark-domx-lists/main'], function (main) { return main; });\n\n"]}